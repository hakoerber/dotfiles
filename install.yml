- defaults:
    link:
      relink: true
      create: true
      force: true
      relative: true

- link:
    ~/.autostart:
    ~/.gitconfig:
      path: git/gitconfig
    ~/.gnupg/dirmngr.conf:
      path: gnupg/dirmngr.conf
    ~/.gnupg/gpg-agent.conf:
      path: gnupg/gpg-agent.conf
    ~/.gnupg/gpg.conf:
      path: gnupg/gpg.conf
    ~/.i3:
    ~/.tmux.conf:
      path: tmux/tmux.conf
    ~/.config/nvim/init.vim:
      path: vim/vimrc
    ~/.Xresources:
      path: x/Xresources
    ~/.xinitrc:
      path: x/xinitrc
    ~/.zprofile:
      path: zsh/zprofile
    ~/.zshrc:
      path: zsh/zshrc
    ~/.zshrc.d:
      path: zsh/zshrc.d

- shell:
  - ln -sf ~/.config/nvim/init.vim ~/.vimrc
  - xrdb ~/.Xresources
  - mkdir -p ~/.var/lib
  - mkdir -p ~/.var/log
  - mkdir -p ~/.var/run
  - command: curl --fail --location --create-dirs --output ~/.local/share/nvim/site/autoload/plug.vim  https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
    stdout: true
    stderr: true
  - command: nvim -E +PlugInstall +qall || true
    stdout: true
    stderr: true
  - command: test -e ~/.local/share/nvim/plugged/YouCompleteMe/third_party/ycmd/ycm_core.so || bash -c "cd ~/.local/share/nvim/plugged/YouCompleteMe && ./install.py" || true
    stdout: true
    stderr: true
