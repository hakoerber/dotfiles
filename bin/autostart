#!/usr/bin/env bash

export LOGDIR="$HOME/.var/log"
export RUNDIR="$HOME/.var/run"
export LIBDIR="$HOME/.var/lib"
export BINDIR="$HOME/bin"

LOGFILE="$LOGDIR/autostart.log"

log() {
    echo "[$(date +%FT%T)] $*" >> "$LOGFILE"
}

if [[ -d "$HOME/.autostart" ]] ; then
    log "Looking for autostart files."
    for f in "$HOME/.autostart/"*.sh ; do
        if [[ -x "$f" ]] ; then
            log "Executing autostart file \"$f\""
            . "$f"
        fi
    done
fi
