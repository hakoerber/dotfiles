_path=("$HOME/bin"
       "/usr/local/sbin"
       "/usr/local/bin"
       "/usr/sbin"
       "/usr/bin"
       "/sbin"
       "/bin"
       "/usr/bin/core_perl"
       "/usr/games")

PATH=""
for part in ${_path} ; do
    PATH="$PATH:${part}"
done
PATH="${PATH#:}"
export PATH

export EDITOR="nvim"
export VISUAL="vim"
export BROWSER="firefox"

export VIMRC="$HOME/.vimrc"

export WINEPATH="$HOME/games/wine"

export LOGDIR="$HOME/.var/log"
export RUNDIR="$HOME/.var/run"
export LIBDIR="$HOME/.var/lib"
export BINDIR="$HOME/bin"

export LANG=en_US.UTF
export LC_TIME=de_DE.UTF
export LC_COLLATE=C

# Start the gpg-agent if not already running
if ! pgrep -x --uid "${USER}" gpg-agent >/dev/null 2>&1; then
    gpg-connect-agent /bye >/dev/null 2>&1
fi

# Set SSH to use gpg-agent
unset SSH_AGENT_PID
if [ "${gnupg_SSH_AUTH_SOCK_by:-0}" -ne $$ ]; then
    export SSH_AUTH_SOCK="${HOME}/.gnupg/S.gpg-agent.ssh"
fi

# Set GPG TTY
export GPG_TTY=$(tty)

# exec startx breaks some logind fuckery, without exec it works
[[ -z $DISPLAY && $XDG_VTNR -eq 1 ]] && startx
